<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mersmann GEOG 456: Aug30th Scatterplot</title>
</head>
<style>
    #myPlot {
        border: 1px solid darkred;
        width: 800px;
        height: 800px;
        background-color: salmon;
    }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.14.0/plotly.min.js" integrity="sha512-XDnqTWsAcVl16AYJoBHumISzIYThowGjR67jeL53NSp6tajsq2qf5UeAWvk1n6Hp3M2iMsV/ewhPScBiLCDs9Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js" integrity="sha512-SGWgwwRA8xZgEoKiex3UubkSkV1zSE1BS6O4pXcaxcNtUlQsOmOmhVnDwIvqGRfEmuz83tIGL13cXMZn6upPyg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<body>
    <div id="myPlot"> </div>
</body>
<script>
    //parse the CSV file into an array? of objects with Papa.parse
    // FIXME - the url
    const dataURL = 'https://raw.githubusercontent.com/joymersmann/geog456/main/Aug25_subsample.csv'
    let data = []
    const configPapa = {
        download: true,
        header: true,
        complete: function(result){
            data = result.data // FIXME - maybe create a function that returns ?? or just check if this works
        }
    }
    Papa.parse(dataURL, configPapa)

    //FIXME convert the dataParsed into sets of arrays of values for the chart
        //might have to use for and if to separate out the different stations??
    //let dataX = data.map(e => e.Date)
    //let dataY = data.map(e => Number(e.Groundwater_in_FeetBelowLandSurface)
    let dataX = ['2018-01-01', '2018-02-02']
    let dataY = [15, 20]

    //convert the arrayified data into Plotly format and generate the Plot
    let trace1 = {
        x: dataX,
        y: dataY,
        mode: 'markers',
        type: 'scatter',
        marker: {
            color: 'green'
        }
    }
    var layout = {
        xaxis: {
            type: 'date',
            title: 'Date of measurement'
        },
        yaxis: {
            title: 'Groundwater level (feet below land surface)'
        },
        title: "Groundwater levels over time in Ripley and Butler Counties, MO"
    };
    var dataPlot = [trace1];
    Plotly.newPlot("myPlot", dataPlot, layout);

</script>
</html>